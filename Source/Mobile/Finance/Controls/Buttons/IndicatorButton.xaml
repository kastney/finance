<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Finance.Controls.Buttons.IndicatorButton">

    <Grid HeightRequest="44">
        <Border x:Name="button" IsVisible="True" StrokeThickness="0" BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="13" StrokeThickness="0" />
            </Border.StrokeShape>
            <Border.GestureRecognizers>
                <TapGestureRecognizer Tapped="TapGestureRecognizer_Tapped" />
            </Border.GestureRecognizers>
            <Label VerticalTextAlignment="Center" HorizontalTextAlignment="Center">
                <Label.FormattedText>
                    <FormattedString>
                        <Span x:Name="icon" FontFamily="IconsSolid" FontSize="14" FontAttributes="Bold" TextColor="{StaticResource Gray000}" />
                        <Span x:Name="text" FontFamily="OpenSansRegular" FontSize="14" FontAttributes="Bold" TextColor="{StaticResource Gray000}" />
                    </FormattedString>
                </Label.FormattedText>
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroupList>
                        <VisualStateGroup x:Name="CommonStates">
                            <VisualState x:Name="Normal" />
                            <VisualState x:Name="Disabled">
                                <VisualState.Setters>
                                    <Setter Property="TextColor" Value="{StaticResource Gray000}" />
                                </VisualState.Setters>
                            </VisualState>
                        </VisualStateGroup>
                    </VisualStateGroupList>
                </VisualStateManager.VisualStateGroups>
            </Label>
            <VisualStateManager.VisualStateGroups>
                <VisualStateGroupList>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal" />
                        <VisualState x:Name="Disabled">
                            <VisualState.Setters>
                                <Setter Property="BackgroundColor" Value="{AppThemeBinding Light={StaticResource PrimaryDisabled}, Dark={StaticResource PrimaryDarkDisabled}}" />
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateGroupList>
            </VisualStateManager.VisualStateGroups>
        </Border>
        <Border x:Name="frame" IsVisible="False" StrokeThickness="0" BackgroundColor="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="13" StrokeThickness="0" />
            </Border.StrokeShape>
            <ActivityIndicator IsRunning="True" Color="{StaticResource Gray000}" IsVisible="True" HeightRequest="25" />
        </Border>
    </Grid>
</ContentView>